<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>emoji</title>
</head>
<body>

<!-- 
https://github.com/maicong/Twitter-Emoji
http://blog.getemoji.com/post/57054354336/which-browsers-support-emoji

http://caniemoji.com/
-->

<style>
.message{
	border-radius:5px;
	background:#f5f5f5;
	padding:5px 15px;
	display:inline-block;
}
</style>
ğŸ˜€
<div class="message" id="message" onclick="alert(this.innerHTML)"></div>


<script src="emoji.js"></script>
	
<script>
/*
å¤šç«¯åŒæ­¥å¤„ç†è¡¨æƒ…çš„é€»è¾‘
	1: å‘æ¶ˆæ¯ ï¼Œç›´æ¥å‘é€ ğŸ˜€ emoji å­—ç¬¦
	2: æ¥æ”¶æ¶ˆæ¯ä¼šè¡¨æƒ…ä¼šè¢«Web SDKè½¬ç æˆ u1F600 æ ¼å¼ï¼Œå…·ä½“è§ RongIMEmoji.emojiFactory
	3: RongIMLib.RongIMEmoji.emojiToHTML
*/ 

RongIMLib.RongIMEmoji.init(); 

var message = "before words ğŸ˜€ \uD83D\uDE00 \uD83D\uDE01 after words";
	message = RongIMLib.RongIMEmoji.emojiToHTML(message);

// alert(message);

var node = document.getElementById("message");
	node.innerHTML = message;
</script>	





<!-- 
https://medium.com/@thekevinscott/emojis-in-javascript-f693d0eb79fb#.7wvjhr61v
http://www.2ality.com/2013/09/javascript-unicode.html
-->
<div class="message" id="b"></div>
<script>
function toUTF16(codePoint) {
  var TEN_BITS = parseInt('1111111111', 2);
  function u(codeUnit) {
    return '\\u'+codeUnit.toString(16).toUpperCase();
  }

  if (codePoint <= 0xFFFF) {
    return u(codePoint);
  }
  codePoint -= 0x10000;

  // Shift right to get to most significant 10 bits
  var leadSurrogate = 0xD800 + (codePoint >> 10);

  // Mask to get least significant 10 bits
  var tailSurrogate = 0xDC00 + (codePoint & TEN_BITS);

  return u(leadSurrogate) + u(tailSurrogate);
}

// using codePointAt, it's easy to go from emoji
// to decimal and back.
// Emoji to decimal representation

// var a = "ğŸ˜€".codePointAt(0);
var a = 128512;

// Decimal to emoji
var b = String.fromCodePoint(a)

// going from emoji to hexadecimal is a little
// bit trickier. To convert from decimal to hexadecimal,
// we can use toUTF16.
// Decimal to hexadecimal
var c = toUTF16(a);	

var node = document.getElementById("b");
	node.innerHTML = [a,b,c].join(" --------- ");
</script>
</body>
</html>